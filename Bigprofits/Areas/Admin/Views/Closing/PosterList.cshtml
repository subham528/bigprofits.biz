@model List<Poster>
@{
    var SrNo = 1;
    Layout = "_AALayout";
}

<style>
    #backToTopBtn {
        display: block; /* Hidden by default */
        position: fixed; /* Fixed/sticky position */
        bottom: 20px; /* Place the button at the bottom of the page */
        right: 20px; /* Place the button 30px from the right */
        z-index: 99; /* Make sure it does not overlap */
        color: white; /* Text color */
        cursor: pointer; /* Add a mouse pointer on hover */
        font-size: 24px; /* Increase font size */
        border-radius: 5px; /* Rounded corners */
        transition: background-color 0.3s, box-shadow 0.3s; /* Smooth transition for background and shadow */
    }

        #backToTopBtn:hover {
            box-shadow: 0 0 15px 5px rgba(255, 255, 255, 1.6);
        }
    /* Media query for mobile devices */
    @@media (max-width: 768px) {
        #backToTopBtn {
            display: block; /* Show the button on mobile */
        }
    }

    #searchInput {
        width: 100%;
        padding: 10px;
        border: 1px solid #ccc;
        border-radius: 5px;
        font-size: 16px;
        box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
        background-color: rgba(0, 0, 0, 0.15);
    }

        #searchInput::placeholder {
            color: black;
        }


    .styled-table {
        border-collapse: collapse;
        margin: 25px 0;
        padding: 20px;
        font-size: 0.9em;
        font-family: sans-serif;
        min-width: 400px;
        box-shadow: 0 0 30px rgba(0, 0, 0, 0.25);
        border-radius: 12px; /* Added border radius */
        overflow: hidden; /* To apply border radius properly */
    }

    table {
        width: 100%;
        border-collapse: collapse;
        margin-bottom: 20px;
        border-radius: 5px;
    }

    th, td {
        padding: 10px;
        text-align: left;
        border-bottom: 1px solid #ddd;
    }

    th {
        background-color: rgba(0, 0, 0, 0.15);
        font-family: 'Lucida Sans', 'Lucida Sans Regular', 'Lucida Grande', 'Lucida Sans Unicode', Geneva, Verdana, sans-serif;
        color: darkslateblue;
        font-weight: normal;
    }

    tr:hover {
        background-color: rgba(10, 5, 5, 0.15);
        transition: background-color 0.3s ease;
    }

    .edit-icon-container {
        position: relative;
        display: inline-block;
    }

    .edit-icon {
        text-decoration: none;
        color: #555;
        font-size: 24px;
        transition: color 0.3s ease;
    }

        .edit-icon:hover {
            color: purple;
        }

        .edit-icon::after {
            content: "Edit";
            position: absolute;
            left: 100%;
            top: 0;
            white-space: nowrap;
            z-index: 20;
            visibility: hidden;
            background-color: #333;
            color: #fff;
            text-align: center;
            border-radius: 5px;
            padding: 5px 10px;
            margin-left: 5px;
            font-size: 14px;
            transition: visibility 0.1s ease;
        }
    /*
                        .edit-icon:hover::after {
                            visibility: visible;
                        } */

</style>

@if (TempData["err"] != null)
{
    <span class="text-danger">
        <strong>Error!</strong>@TempData["err"]
    </span>
}
@if (TempData["msg"] != null)
{
    <span class="text-success">
        <strong>Success!</strong>@TempData["msg"]
    </span>
}
<div>
    <h4>Update List</h4>
    <table class="styled-table" style="color:black">
        <thead>
            <tr>
                <th>Sr.No</th>
                <th>PhonePay UpiId</th>
                <th>GooglePay UpiId</th>
                <th>QR Image</th>
                <th>Date</th>
             @*    <th>Action</th> *@
            </tr>
        </thead>
        <tbody id="productTableBody">
            @foreach (var agent in Model)
            {
                <tr>
                    <td>@SrNo</td>
                    <td>@agent.Postername</td>
                    <td>@agent.PosterContent</td>
                    <td>
                        <img src="@Url.Content("~/" + agent.PosterImage)" height="50" width="50" alt="Product Image" />
                    </td>
                    <td>@agent.Posterdate</td>
                   @*  <td>


                        <button type="button" class="btn btn-danger" onclick="deletePoster(@agent.Id)">DELETE</button>
                    </td> *@
                </tr>
                SrNo++;
            }
        </tbody>
    </table>
</div>
<a href="#" id="backToTopBtn" title="Go to top">⬆️</a>

@section Scripts {
    <script>
        function deletePoster(id) {
            if (confirm('Are you sure you want to delete this poster?')) {
                $.ajax({
                    url: '@Url.Action("poster-Delete", "britglbl253adpnl")', // Ensure this URL matches your route
                    type: 'POST',
                    data: { id: id },
                    success: function (response) {
                        // Handle success, e.g., remove the poster from the DOM or refresh the page
                        alert('Poster deleted successfully!');
                        location.reload(); // Reload the page to see changes
                    },
                    error: function (xhr, status, error) {
                        // Handle error
                        alert('An error occurred while deleting the poster: ' + xhr.responseText);
                    }
                });
            }
        }
    </script>
}

