@using System.Data
@using Microsoft.Extensions.Configuration;
@model DataSet
@using Bigprofits.Common;
@{
    ViewData["Title"] = "Withdrawal History";
    Layout = "~/Areas/Admin/Views/Shared/_AALayout.cshtml";

    var configuration = Context.RequestServices.GetService(typeof(IConfiguration)) as IConfiguration;
    CommonMethods lib = new CommonMethods(configuration!);
}

<div class="page-heading">
    <section class="section">
        <div class="card">
            <div class="card-header bg-primary" style="background: #435ebe;color: white;padding: 15px;">
               Today Withdrawal History
            </div>
            <div class="card-body mt-3 overflow-auto">
                <table class="table table-responsive text-nowrap" id="datatable">
                    <thead>
                        <tr>
                            <th>Sr. No</th>
                            <th>Member</th>
                            <th>Withdrawal</th>
                            <th>Type</th>
                            <th>Admin Charge</th>
                            <th>Payable Amount</th>
                            <th>Request Date</th>
                            <th>Approve Date</th>
                        </tr>
                    </thead>
                    <tbody>
                        @{
                            int sno2 = 1;
                        }
                        @if (Model.Tables[0].Rows.Count > 0)
                        {
                            @foreach (DataRow row in Model.Tables[0].Rows)
                            {
                                <tr>
                                    <td>@sno2</td>
                                    <td> @row["memberid"]</td>
                                    <td>@string.Format("{0:0.00}", row["withdrawal"])</td>
                                    <td>@(Convert.ToInt16(row["DirectIncome"]) == 0 ? "INCOME" : "CAPITAL")</td>
                                    <td>@string.Format("{0:0.00}", row["adminCharge"])</td>
                                    <td>@string.Format("{0:0.00}", row["details"]) @row["wType"]</td>
                                    <td>@string.Format("{0:dd/MMMM/yyyy hh:mm tt}", row["wdlDate"])</td>
                                    <td>@string.Format("{0:dd/MMMM/yyyy hh:mm tt}", row["AdminApprovedDate"])</td>
                                </tr>
                                sno2++;
                            }
                        }
                    </tbody>
                </table>
            </div>
        </div>

    </section>
</div>



@section Scripts {
    <script>

        $("#dt").hide()

        $('#datatable').DataTable({
            dom: 'Bfrtip',
            buttons: [
                'excel', 'pdf', 'print'
            ]
        });

    </script>
}



